<script setup lang="tsx">
import type { Component } from 'vue'
import Slide from '@/layouts/Slide.vue'
import CLayout from '@/layouts/CLayout.vue'
const slides: Component[] = [
  {
    render() {
      return (
        <Slide title="ç¬¬13ç«  æŒ‡é’ˆ">
          <ul>
            <li>æŒ‡é’ˆçš„å¼•å…¥</li>
            <li>æŒ‡é’ˆçš„å®šä¹‰</li>
            <li>æŒ‡é’ˆçš„å¼•ç”¨</li>
            <li>æŒ‡é’ˆä¸å‚æ•°</li>
            <li>æŒ‡é’ˆä¸æ•°ç»„</li>
          </ul>
        </Slide>
      )
    }
  },
  {
    render() {
      return (
        <Slide title="æŒ‡é’ˆçš„å¼•å…¥">
          <p class="code">
            <span>int a = 1;</span>
            <br />
            <span>
              scanf("%d",<span style={{ color: 'blue' }}>&a</span>);
            </span>
          </p>
          <p>
            &aå°±æ˜¯açš„<em>æŒ‡é’ˆ</em>
          </p>
        </Slide>
      )
    }
  },
  {
    render() {
      return (
        <Slide title="ä¸ºä»€ä¹ˆä½¿ç”¨æŒ‡é’ˆ">
          <p class="code">
            <span>void swap(int x, int y) &#123;</span>
            <br />
            <span class="indent-1">int z=x;</span>
            <br />
            <span class="indent-1">x=y;</span>
            <br />
            <span class="indent-1">y=z;</span>
            <br />
            <span>&#125;</span>
            <br />
            <span>int main()&#123;</span>
            <br />
            <span class="indent-1">int a=1;</span>
            <br />
            <span class="indent-1">int b=2;</span>
            <br />
            <span class="indent-1">swap(a,b);</span>
            <br />
            <span class="indent-1">printf("a=%d,b=%d\n",a,b);</span>
            <br />
            <span class="indent-1">return 0;</span>
            <br />
            <span>&#125;</span>
          </p>
          <p>swapå‡½æ•°èƒ½å¦äº¤æ¢aå’Œbçš„å€¼ğŸ¤”</p>
        </Slide>
      )
    }
  },
  {
    render() {
      return (
        <Slide title="æŒ‡é’ˆçš„è§£é‡Š">
          <p class="code">
            <span>char ch = 'A';</span>
            <br />
            <span>double a = 2.5;</span>
            <br />
            <span>int b = 100;</span>
            <br />
          </p>
          <table class={'memory'}>
            <tbody>
              <tr>
                <td colspan={4}>ch</td>
                <td colspan={8}>a</td>
                <td colspan={4}>b</td>
              </tr>
              <tr>
                <td>16</td>
                <td>17</td>
                <td>18</td>
                <td>19</td>
                <td>20</td>
                <td>21</td>
                <td>22</td>
                <td>23</td>
                <td>24</td>
                <td>25</td>
                <td>26</td>
                <td>27</td>
                <td>28</td>
                <td>29</td>
                <td>30</td>
                <td>31</td>
              </tr>
              <tr>
                <td>'A'</td>
                <td></td>
                <td></td>
                <td></td>
                <td colspan={8}>2.5</td>
                <td colspan={4}>100</td>
              </tr>
            </tbody>
          </table>
          <ul>
            <li>
              ç»å¤§éƒ¨åˆ†ç±»å‹çš„å˜é‡éƒ½æœ‰<em>åœ°å€</em>ï¼Œç±»ä¼¼äºå‚¨ç‰©ç®±çš„ç¼–å·
            </li>
            <li>
              <em>æŒ‡é’ˆ</em>æ˜¯ä¸€ç§<em>æ•°æ®ç±»å‹</em>ï¼Œå®ƒçš„å€¼å°±æ˜¯å˜é‡çš„<em>åœ°å€</em>
            </li>
            <li>açš„æŒ‡é’ˆçš„å€¼æ˜¯å¤šå°‘ï¼ŸğŸ¤”</li>
          </ul>
        </Slide>
      )
    }
  },
  {
    render() {
      return (
        <Slide title="ä»€ä¹ˆæ˜¯æŒ‡é’ˆ">
          <ul>
            <li>
              æŒ‡é’ˆæ˜¯ä¸€ç§<em>æ•°æ®ç±»å‹</em>ï¼Œå®ƒçš„å€¼æ˜¯<em>åœ°å€</em>
            </li>
            <li>
              ç»å¤§å¤šæ•°ç±»å‹çš„å˜é‡<em>éƒ½</em>å¯ä»¥è·å¾—å®ƒçš„<em>æŒ‡é’ˆ</em>
            </li>
            <li>
              è·å¾—å˜é‡çš„æŒ‡é’ˆçš„è¿ç®—ï¼š<span class="code">&å˜é‡</span>ï¼Œä¾‹å¦‚
              <span class="code">&a</span>{' '}
            </li>
            <li>
              æŒ‡é’ˆ<span class="code">&a</span>
              <em>æŒ‡å‘</em>å˜é‡a{' '}
            </li>
          </ul>
          <div style={{ display: 'flex', alignItems: 'end' }}>
            <p>&a&#8594;</p>
            <table class={'memory'}>
              <tbody>
                <tr>
                  <td colspan={4}>a</td>{' '}
                </tr>
                <tr>
                  <td>20</td>
                  <td>21</td>
                  <td>22</td>
                  <td>23</td>
                  <td>24</td>
                  <td>25</td>
                  <td>26</td>
                  <td>27</td>
                </tr>
                <tr>
                  <td colspan={8}>2.5</td>{' '}
                </tr>
              </tbody>
            </table>
          </div>
        </Slide>
      )
    }
  },
  {
    render() {
      return (
        <Slide title="è·å–æŒ‡å‘çš„å˜é‡">
          <li>
            è¯­æ³•ï¼š<span class="code">*æŒ‡é’ˆ</span>ï¼Œä¾‹å¦‚<span class="code">*(&a)</span>æˆ–
            <span class="code">*&a</span>{' '}
          </li>
          <li>
            *è¿ç®—ç¬¦åªèƒ½ä½œç”¨äº<em>æŒ‡é’ˆ</em>ï¼Œå¦åˆ™<em>ä¸èƒ½ç¼–è¯‘</em>
          </li>
          <li>
            *è¿ç®—ç¬¦è·å¾—çš„å˜é‡å¯ä»¥å‚ä¸<em>è¡¨è¾¾å¼</em>çš„è¿ç®—
          </li>
          <li>
            ä¾‹å¦‚<span class="code">*&a = *&a + 1;</span>ï¼Œè¿™é‡Œçš„<span class="code">*&a</span>
            ç›¸å½“äºå˜é‡
            <span class="code">a</span>
          </li>
        </Slide>
      )
    }
  },
  {
    render() {
      return (
        <Slide title="å­˜æ”¾æŒ‡é’ˆçš„å˜é‡">
          <li>
            è¯­æ³•ï¼š<span class="code">æ•°æ®ç±»å‹ * æŒ‡é’ˆå</span>
          </li>
          <li>
            ä¾‹å¦‚<span class="code">int * pa</span>è¡¨ç¤º<span class="code">pa</span>æ˜¯ä¸€ä¸ªå­˜æ”¾
            <em>æŒ‡é’ˆ</em>çš„<em>å˜é‡</em>ï¼Œ æŒ‡å‘<span class="code">int</span>ç±»å‹çš„å˜é‡
          </li>
          <li>
            <span class="code">
              int a=1;float b=2;int * pa=&#38;a;
              <del style={{ color: 'red' }}>int * pa= &#38;b;</del>
            </span>{' '}
          </li>
          <li>
            å¦‚æœpa&#8594;aï¼Œé‚£ä¹ˆ<span class="code">*pa</span>è¿ç®—å°±è·å¾—äº†å˜é‡
            <span class="code">a</span>{' '}
          </li>
          <li>
            <strong>
              ç‰¹åˆ«æ³¨æ„ï¼š<span class="code">int *pa, pb;</span>è¡¨ç¤ºpaæ˜¯æŒ‡é’ˆï¼Œè€Œpbæ˜¯intå‹å˜é‡
            </strong>
          </li>
        </Slide>
      )
    }
  },
  {
    render() {
      return (
        <Slide title="å¼•ç”¨è¿ç®—&ä¸è§£å¼•ç”¨è¿ç®—*">
          <ul>
            <li>
              <span class="code">int a=1; int *pa = &#38;a;</span>{' '}
            </li>
            <li>
              æŒ‡å‘å…³ç³»ï¼š<span class="code">pa</span>&#8594;<span class="code">a</span>{' '}
            </li>
            <li>
              å¼•ç”¨è¿ç®—ï¼š&a
              <span style={{ color: 'gray' }}>
                &#8594;<span class="code">a</span>
              </span>{' '}
            </li>
            <li>
              è§£å¼•ç”¨è¿ç®—ï¼š
              <span style={{ color: 'gray' }}>
                <span class="code">pa</span>&#8594;
              </span>
              <span class="code">*pa</span>
            </li>
          </ul>
        </Slide>
      )
    }
  },
  {
    render() {
      return (
        <Slide title={'ç”¨æŒ‡é’ˆæ”¹å˜å‡½æ•°çš„å±€éƒ¨å˜é‡'}>
          <p class={'code'}>
            <span>void increase(int *x)&#123;</span>
            <br />
            <span class={'indent-1'}>*x += 1;</span>
            <br />
            <span>&#125;</span>
            <br />
            <span>int main() &#123;</span>
            <br />
            <span class={'indent-1'}>int a=2;</span>
            <br />
            <span class={'indent-1'}>increase(&a);</span>
            <br />
            <span class={'indent-1'}>printf("a=%d\n", a);</span>
            <br />
            <span class={'indent-1'}>return 0;</span>
            <br />
            <span>&#125;</span>
          </p>
        </Slide>
      )
    }
  },
  {
    render() {
      return (
        <Slide title={'æŒ‡é’ˆä¸æ•°ç»„'}>
          <div class={'explanation'}>
            <p class={'code'}>
              <span>int a[5] = &#123;1,2,3,4,5&#125;</span>
              <br />
              <span>int *p = a;</span>
            </p>
            <table>
              <tbody>
                <tr>
                  <td colspan={5}>p</td>
                </tr>
                <tr>
                  <td colspan={5}>&#8595;</td>
                </tr>
                <tr>
                  <td>a[0]</td>
                  <td>a[1]</td>
                  <td>a[2]</td>
                  <td>a[3]</td>
                  <td>a[4]</td>
                </tr>
                <tr class={'array'}>
                  <td>1</td>
                  <td>2</td>
                  <td>3</td>
                  <td>4</td>
                  <td>5</td>
                </tr>
              </tbody>
            </table>
          </div>
          <p>pæŒ‡å‘å“ªä¸ªå…ƒç´ ï¼ŸğŸ¤”</p>
        </Slide>
      )
    }
  },
  {
    render() {
      return (
        <Slide title={'ç”¨æŒ‡é’ˆè®¿é—®æ•°ç»„å…ƒç´ '}>
          <p class={'code'}>
            <span>int a[5] = &#123;1,2,3,4,5&#125;</span>
            <br />
            <span>int *p = a;</span>
          </p>
          <p>
            å¦‚æœ<span class={'code'}>p</span>è¢«èµ‹å€¼ä¸º<span class={'code'}>a</span>ï¼Œ é‚£ä¹ˆ
            <span class={'code'}>p[i]</span>
            <em>ç›¸å½“äº</em>
            <span class={'code'}>a[i]</span>{' '}
          </p>
          <table>
            <tr>
              <td>p[0]</td>
              <td>p[1]</td>
              <td>p[2]</td>
              <td>p[3]</td>
              <td>p[4]</td>
            </tr>
            <tr class={'array'}>
              <td>1</td>
              <td>2</td>
              <td>3</td>
              <td>4</td>
              <td>5</td>
            </tr>
            <tr>
              <td>a[0]</td>
              <td>a[1]</td>
              <td>a[2]</td>
              <td>a[3]</td>
              <td>a[4]</td>
            </tr>
          </table>
        </Slide>
      )
    }
  },
  {
    render() {
      return (
        <Slide title={'å‡½æ•°å‚æ•°ä¸­çš„æŒ‡é’ˆ'}>
          <p class={'code'}>
            <span>float average_number(float *a, int n) &#123;</span>
            <br />
            <span class={'indent-1'}>float sum = 0;</span>
            <br />
            <span class={'indent-1'}>int i;</span>
            <br />
            <span class={'indent-1'}>for(i=0;i&#60;n;i++)&#123;</span>
            <br />
            <span class={'indent-2'}>sum += a[i];</span>
            <br />
            <span class={'indent-1'}>&#125;</span>
            <br />
            <span class={'indent-1'}>return sum/n;</span>
            <br />
            <span>&#125;</span>
            <br />
            <span>int main() &#123;</span>
            <br />
            <span class={'indent-1'}>float array[5] = &#123;1.5, 3.5, 2.5, 5.5, 4.5&#125;</span>
            <br />
            <span class={'indent-1'}>float average = average_number(array, 5);</span>
            <br />
            <span class={'indent-1'}>printf("average=%f\n", average);</span>
            <br />
            <span>&#125;</span>
          </p>
          <p>
            ä¸ºä»€ä¹ˆ<span class={'code'}>average_number</span>å‡½æ•°è¦ä¼ å…¥ä¸¤ä¸ªå‚æ•°ï¼ŸğŸ¤”
          </p>
        </Slide>
      )
    }
  },
  {
    render() {
      return (
        <Slide title={'æŒ‡é’ˆä¸å­—ç¬¦ä¸²'}>
          <p class={'code'}>
            <span>int is_identifier_or_keyword(char *str) &#123;</span>
            <br />
            <span class={'indent-1'}>if (!(isalpha(str[0]) || str[0]=='_')) return 0;</span>
            <br />
            <span class={'indent-1'}>int i;</span>
            <br />
            <span class={'indent-1'}>for (i=1;str[i]!='\0';i++) &#123;</span>
            <br />
            <span class={'indent-2'}>if (!(isalnum(str[i]) || str[i]=='_')) return 0;</span>
            <br />
            <span class={'indent-1'}>&#125;</span>
            <br />
            <span class={'indent-1'}>return 1;</span>
            <br />
            <span>&#125;</span>
            <br />
            <span>int main() &#123;</span>
            <br />
            <span class={'indent-1'}>char str0[]="sum";</span>
            <br />
            <span class={'indent-1'}>char str1[]="123";</span>
            <br />
            <span class={'indent-1'}>printf("%d\n", is_identifier_or_keyword(str0));</span>
            <br />
            <span class={'indent-1'}>printf("%d\n", is_identifier_or_keyword(str1));</span>
            <br />
            <span>&#125;</span>
          </p>
          <p>
            ä¸ºä»€ä¹ˆ<span class={'code'}>is_identifier_or_keyword</span>å‡½æ•°åªéœ€ä¸€ä¸ªå‚æ•°ï¼ŸğŸ¤”
          </p>
        </Slide>
      )
    }
  }
]
</script>

<template>
  <CLayout :slides="slides" />
</template>

<style scoped>
table.memory {
  border-collapse: collapse;
}
table.memory td {
  min-width: 2em;
}
table.memory tr:nth-child(3n-2) {
  border-bottom: solid black 1px;
}
table.memory tr:nth-child(3n) td {
  text-align: center;
  border: solid black 1px;
  margin-bottom: 1em;
}

.explanation {
  display: grid;
  grid-template-columns: 1fr 1fr;
  grid-gap: 2em;
}
.array {
  border-collapse: collapse;
}
.array td {
  border: solid black 1px;
}
</style>
